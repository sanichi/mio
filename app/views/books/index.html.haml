= render "utils/title", key: "book.books"

= form_tag books_path, method: :get, remote: true, class: "form-inline justify-content-center" do
  = label_tag :title, t("book.title"), class: "sr-only"
  = text_field_tag :title, params[:title], class: "form-control mr-1 mb-1", placeholder: t("book.title"), size: 16
  = label_tag :author, t("book.author"), class: "sr-only"
  = text_field_tag :author, params[:author], class: "form-control mr-1 mb-1", placeholder: t("book.author"), size: 16
  = label_tag :year, t("book.year"), class: "sr-only"
  = text_field_tag :year, params[:year], class: "form-control mr-1 mb-1", placeholder: t("book.year"), size: 10
  = label_tag :category, t("book.category"), class: "sr-only"
  = select_tag :category, book_category_menu(params[:category], search: true), class: "form-control mr-1 mb-1 auto-submit"
  = label_tag :medium, t("book.medium"), class: "sr-only"
  = select_tag :medium, book_medium_menu(params[:medium], search: true), class: "form-control mr-1 mb-1 auto-submit"
  = label_tag :order, t("order"), class: "sr-only"
  = select_tag :order, book_order_menu(params[:order]), class: "form-control mr-1 mb-1 auto-submit"
  = button_tag t("search"), type: "submit", class: "btn btn-success mr-1 mb-1"

%table{class: "table table-bordered table-striped table-sm mt-3"}
  %thead
    %tr.d-flex
      %th.col-5= t("book.title")
      %th.col-3= t("book.author")
      %th.col-2= t("book.category")
      %th.col-1= t("book.medium")
      %th.col-1.text-center= t("book.year")
  %tbody{id: "results"}
    = render "results", books: @books

- if can?(:create, Book)
  .text-center.mt3
    = link_to t("book.new"), new_book_path, class: "btn btn-info"
