= render "utils/title", key: "favourite.favourites", header: true

:ruby
  inputs = [
    [:query,    t("query"),              :text,   size: 20, placeholder: "#{t("name")}/#{t("favourite.note")}"],
    [:category, t("favourite.category"), :select, menu: favourite_category_search_menu(params[:category])],
    [:year,     t("year"),               :text,   size: 7],
    [:order,    t("order"),              :select, menu: favourite_order_menu(params[:order])],
  ]
= render "utils/search/form", index: favourites_path, inputs: inputs

%table.table.table-bordered.table-striped.table-sm.mt-3
  %thead
    %tr
      %th= t("name")
      %th.d-none.d-lg-table-cell= t("favourite.note")
      %th.text-center= t("favourite.category")
      %th.text-center= t("year")
      %th.text-center
        %span.d-none.d-md-inline= t("favourite.sandra")
        %span.d-md-none= t("favourite.abbr.sandra")
      %th.text-center
        %span.d-none.d-md-inline= t("favourite.mark")
        %span.d-md-none= t("favourite.abbr.mark")
      %th.text-center
        %span.d-none.d-md-inline= t("total")
        %span.d-md-none= t("favourite.abbr.total")
  %tbody#results
    = render "results", favourites: @favourites

- if can?(:create, Favourite)
  .text-center.mt-3
    = link_to t("favourite.new"), new_favourite_path, class: "btn btn-info"
