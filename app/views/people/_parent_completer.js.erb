<% realm_param = realm < 0 ? "" : "&realm=#{realm}" %>
$(function() {
  $('#father_id_completer').autocomplete({
    source: '/people/match.json?gender=male&max_born=<%= max_born %><% realm_param %>',
    minLength: 2,
    select: function(event, ui) {
      $('#person_father_id').val(ui.item ? ui.item.id : '');
      setTimeout(function() {
        $('#father_id_completer').val('');
      }, 200);
    }
  });
  $('#mother_id_completer').autocomplete({
    source: '/people/match.json?gender=female&max_born=<%= max_born %>',
    minLength: 2,
    select: function(event, ui) {
      $('#person_mother_id').val(ui.item ? ui.item.id : '');
      setTimeout(function() {
        $('#mother_id_completer').val('');
      }, 200);
    }
  });
});
