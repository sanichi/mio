= render "utils/title", key: "mass.data"

.row
  .col-md-offset-3.col-md-6
    %table{class: "table table-bordered table-striped"}
      %thead
        %tr
          %th.text-center= t("mass.date")
          %th.text-center= t("mass.start")
          %th.text-center= t("mass.finish")
          - if can?(:create, Mass)
            %th
      %tbody
        - @masses.matches.each do |mass|
          %tr
            %td.text-center= mass.date
            %td.text-center= @unit.to_s(mass.start)
            %td.text-center= @unit.to_s(mass.finish)
            - if can?(:create, Mass)
              %td.text-center
                = link_to t("edit"), edit_mass_path(mass), class: "btn btn-info btn-xs"
        = render "utils/pagination_links", pager: @masses, columns: 3 + (can?(:create, Mass) ? 1 : 0)

.text-center
  = link_to t("graph"), graph_masses_path(unit: @unit.key), class: "btn btn-success"
  = render "units", unit: @unit, path: :masses_path
  - if can?(:create, Mass)
    = link_to t("mass.new"), new_mass_path, class: "btn btn-info"
